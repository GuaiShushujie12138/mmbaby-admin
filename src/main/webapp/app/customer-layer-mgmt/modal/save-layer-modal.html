<div class="wrapper wrapper-content animated fadeInRight">
  <div class="modal-header">
    <button type="button" class="close" ng-click="cancel()" aria-label="Close"><i class="fa fa-times"></i></button>
    <h4 class="modal-title">{{modal.data.id > 0?"编辑":"新增"}}客户分类</h4>
  </div>
  <div class="modal-body">
    <form class="form-horizontal">
      <div class="row" style="background-color: #f2f2f2">
        <div>
          <div class="form-group">
            <div class="row">
              <label class="col-sm-3 control-label"><em style="color:red;">*</em>定义:</label>
              <label class="col-sm-1 control-label">符合</label>

              <div class="col-sm-1">
                <select  class="form-control" name="matchType"
                        ng-model="modal.data.matchType">
                  <option value='1'>全部</option>
                  <option value='2'>任何</option>
                </select>
              </div>

              <label class="col-sm-1 control-label">以下条件：</label>
              <div class="col-sm-4">
                <button class="btn  btn-link" type="button"
                        tooltip-placement="right"
                        uib-tooltip="填入'0'天表示不做时间限制，即累计数据；当（注册/登录）时间日期选择=2014-01-01时，表示未注册/未登录客户"><i
                    class="fa fa-question red"></i>
                </button>
              </div>
            </div>
            <div style="height: 10px;">
            </div>
            <div class="row" style="padding-left: 300px">
              <div ng-repeat="condition in modal.data.conditions">
                  <div class="row">
                    <div class="col-sm-2">
                      <input type="test" name="days" placeholder="请输入数字" ng-model="modal.daysMap[$index]"
                             style="width:100px"
                             max="10000"
                             min="0"/>
                    </div>
                      <label class="col-sm-1">天内</label>
                    <div class="col-sm-2">
                      <select class="form-control" name="conditionType"
                              ng-model="modal.conditionTypeMap[$index]"
                              ng-options="item.key+'' as item.value for item in modal.conditionSelect">
                      </select>
                    </div>

                    <div class="col-sm-2">
                      <select class="form-control" name="operatorType"
                              ng-model="modal.operatorMap[$index]"
                              ng-options="item.key+'' as item.value for item in modal.operatorSelect">
                      </select>
                    </div>
                    <div class="col-sm-2">
                      <input ng-if="modal.conditionTypeMap[$index] != 11 && modal.conditionTypeMap[$index] != 13"
                             type="text"
                             name="targetValue" ng-model="modal.targetValueMap[$index]" style="width:160px"  placeholder="请输入数字">

                      <input ng-if="modal.conditionTypeMap[$index] == 11 || modal.conditionTypeMap[$index] == 13"
                             type="text"
                             name="targetValue" ng-model="modal.targetValueMap[$index]" style="width:160px"
                             placeholder="格式2014-01-01 00:00:00">
                    </div>
                    <div class="col-sm-3">
                      <img ng-show="$last" src="img/Add.png" ng-click="addCondition($index)" width="30" height="30"/>
                      <span style="width: 30px;height: 30px"></span>
                      &nbsp;
                      <img src="img/sub.png" ng-click="subCondition($index)" width="30" height="30"/>
                    </div>
                  </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div style="height: 20px;">
      </div>
      <div class="row">
        <div class="col-sm-10">
          <div class="form-group">
            <label class="col-lg-4 control-label"><em style="color:red;">*</em>名称</label>
            <div class="col-lg-8">
              <div class="input-icon right">
                <input type="text" name="name" class="form-control"
                       ng-model="modal.data.name" 　minlength="1" maxlength="6" 　required>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-10">
          <div class="form-group">
            <label class="col-lg-4 control-label"><em style="color:red;">*</em>权重</label>
            <div class="col-lg-8">
              <div class="input-icon right">
                <input type="number" name="weight" class="form-control"
                       ng-model="modal.data.weight" required>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-10">
          <div class="form-group">
            <label class="col-lg-4 control-label">描述：</label>
            <div class="col-lg-8">
              <div class="input-icon right">
                <textarea rows="4" cols="60" ng-model="modal.data.description" maxlength="200"/>
              </div>
            </div>
          </div>
        </div>
      </div>

    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-w-sm btn-white" ng-click="cancel()">取消</button>
    <button type="button" class="btn btn-w-sm btn-primary" ng-click="ok()" ng-disabled="okBtnDisabled">确定</button>
  </div>
</div>
